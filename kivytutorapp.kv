<WrapedLabel@Label>:
    size_hint_y : None # Do not auto alocation the space the height takes
    # the height of the text + its half
    height: self.texture_size[1] + (self.texture_size[1] / 1)
    markup: True

<KivyTutorRoot>:
    orientation: 'vertical'
    # python Obj : kivy guess
    kivy_screen_manager : kivy_screen_manager
    math_screen : math_screen

    # Declaring the top Action Bar
    ActionBar:
        ActionView:
            ActionPrevious:
                title: 'Application'
                # The Icon Button do no return the last window
                # An Icon can be changed look at the documentation
                with_previous: False
            # the 3 doted vertical Button which include settinsg btn
            ActionOverflow:
                ActionButton:
                    text: 'Settings'
                    #On event press run the function open_settings from the class App
                    on_press: app.open_settings()

    # Manage the # screen or windows
    ScreenManager: 
        id: kivy_screen_manager
        StartScreen:
            name: 'start_screen'
        AboutScreen:
            id : about_screen
            name: 'about_screen'
        MathScreen:
            id : math_screen
            name: 'math_screen'

# Creating a new widgets that inhertite from the widget Screen
# This widget accept only one widgets inside it but it possible to use a layout
<StartScreen@Screen>:
    BoxLayout:
        orientation: 'vertical'
        padding: root.width * .02,  root.height * .02
        # Its possible to usse python function like min()
        spacing: min(root.width, root.height) * .02

        WrapedLabel:
            text: '[b]Kivy Math tutor[/b]' # text with bold markup
            font_size: min(root.height, root.width) / 10

        Button:
            text: 'Addition'
            on_release: app.root.changeScreen(self.text.lower())       
        Button:
            text: 'Substraction' 
            on_release: app.root.changeScreen(self.text.lower())       
        Button:
            text: 'Multiplication'  
            on_release: app.root.changeScreen(self.text.lower())       
        Button:
            text: 'Division'     
            on_release: app.root.changeScreen(self.text.lower())       
        Button:
            text: 'Max!'    
            on_release: app.root.changeScreen(self.text.lower())       
        Button:
            text: 'About this app'
            # self is for btn
            on_release: app.root.changeScreen(self.text.lower())


<MathScreen>:
    question_text : question_text
    answer_text : answer_text
    BoxLayout:
        orientation: 'vertical'
        padding: root.width * .02,  root.height * .02
        spacing: 10
        WrapedLabel:
            id : question_text
            text : "Some dummy text"
            font_size: min(root.height, root.width) / 10
        BoxLayout:
            orientation: 'horizontal'
            size_hint_y : None
            WrapedLabel:    
                id : answer_text
                text: ''
                font_size: min(root.height, root.width) / 10
            Button:
                id: clear_btn
                text: "[b]Clear[/b]"
                markup: True 
                size_hint: .3, None
                height : question_text.texture_size[1]
                on_release : answer_text.text=''

<AboutScreen@Screen>:
    BoxLayout:
        orientation: 'vertical'
        spacing: root.width * .02, root.height * .02
        Label:
            text: app.getText()
            halign : 'center'
            markup: True 
            font_size: root.height / 20
            text_size: (self.width, None)
            center_y: .5
            # You can have this ref in text only
            on_ref_press: app.on_ref_press(*args)